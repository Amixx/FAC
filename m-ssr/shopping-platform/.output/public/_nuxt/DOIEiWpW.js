import{_ as C}from"./C4X3dMxL.js";import{f as F,m as P,n as N,q as p,s as R,x as V,g as B,h as L,u as a,o,c as u,a as t,l as $,y as I,F as x,i as h,z as g,w as b,j as m,t as w,d as k}from"./ClK1P5_w.js";import{u as U}from"./BHMYmoF_.js";import{_ as q}from"./DuXn4fI9.js";import{u as E}from"./DOXMt9Mp.js";import"./DKu95BBG.js";const K={key:0,class:"container mx-auto px-4 py-8"},S={class:"-mx-4 flex flex-wrap"},z={class:"mb-4 md:mb-0 md:w-1/4 px-4 w-full"},A={class:"bg-white p-3 rounded-lg shadow-lg"},H=t("h3",{class:"font-bold mb-4 text-xl"},"Filtri",-1),M=t("label",{class:"block font-bold mb-2 text-gray-700 text-sm",for:"categoryFilter"}," Kategorija ",-1),Q=t("option",{value:null},"Visas kategorijas",-1),T=["value"],G={class:"md:w-3/4 px-4 w-full"},J={class:"flex gap-4 justify-center mb-4"},O={class:"bg-gray-100 flex h-10 items-center justify-center rounded-full w-10"},W={class:"gap-6 grid grid-cols-1 lg:grid-cols-3 sm:grid-cols-2"},oe=F({__name:"[[page]]",async setup(X){let i,_;const y=P(),d=N(),f=p(()=>d.params.page?parseInt(d.params.page):1),j=p(()=>d.query.category),r=R(j.value);V(r,()=>{y.push(l(f.value,r.value))});const l=(v,n)=>{let c=`/catalogue/${v}`;return n&&(c+=`?category=${encodeURIComponent(n)}`),c},D=p(()=>l(f.value,r.value)),{data:e}=([i,_]=B(()=>U(()=>D.value,{baseURL:"https://thesis-project.local.io/api/json"},"$gjQLFdl3it")),i=await i,_(),i);return L(()=>{if(e.value){if("redirect"in e.value)return y.replace(l(e.value.redirect.page,e.value.redirect.category));E({title:e.value.metadata.title,meta:[{name:"description",content:e.value.metadata.metaDescription},{name:"keywords",content:e.value.metadata.metaKeywords}]}),r.value=e.value.selectedCategory}}),(v,n)=>{const c=C;return a(e)&&!("redirect"in a(e))?(o(),u("div",K,[t("div",S,[t("div",z,[t("div",A,[H,t("form",null,[M,$(t("select",{id:"categoryFilter","onUpdate:modelValue":n[0]||(n[0]=s=>r.value=s),class:"appearance-none bg-gray-200 block border border-gray-200 focus:bg-white focus:border-gray-500 focus:outline-none leading-tight pr-8 px-4 py-3 rounded text-gray-700 w-full"},[Q,(o(!0),u(x,null,h(a(e).categories,s=>(o(),u("option",{key:s.id,value:s.name},w(s.name),9,T))),128))],512),[[I,r.value]])])])]),t("div",G,[t("div",null,[t("div",J,[a(e).prevPageData?(o(),g(c,{key:0,class:"bg-gray-500 hover:bg-gray-600 px-5 py-2 text-sm text-white uppercase",to:l(a(e).prevPageData.page,a(e).prevPageData.category)},{default:b(()=>[k(" Iepriekšējā lapa ")]),_:1},8,["to"])):m("",!0),t("span",O,w(a(e).page),1),a(e).nextPageData?(o(),g(c,{key:1,class:"bg-gray-500 hover:bg-gray-600 px-5 py-2 text-sm text-white uppercase",to:l(a(e).nextPageData.page,a(e).nextPageData.category)},{default:b(()=>[k(" Nākamā lapa ")]),_:1},8,["to"])):m("",!0)])]),t("div",W,[(o(!0),u(x,null,h(a(e).products,s=>(o(),g(q,{key:s.id,product:s},null,8,["product"]))),128))])])])])):m("",!0)}}});export{oe as default};
