import{_ as p}from"./C4X3dMxL.js";import{f as l,s as u,o as r,z as h,w as m,a as e,c as i,t as o,j as n,d as f,B as b}from"./ClK1P5_w.js";import{i as _}from"./DKu95BBG.js";const g=["alt","src"],y={key:0,class:"absolute bg-purple-500 font-bold left-0 px-3 py-1 rounded-br-lg text-white text-xs top-0 uppercase"},v={class:"px-6 py-4"},w={class:"font-bold mb-2 text-xl"},x={class:"mb-4 text-base text-gray-700"},k={class:"flex items-center justify-between"},C={class:"font-bold text-lg"},j={key:0,class:"line-through ml-2 text-gray-500 text-sm"},$=["disabled"],D=l({__name:"ProductCard",props:{product:{}},setup(B){const a=u(!1),d=async t=>{try{await $fetch("https://thesis-project.local.io/api/json/add-to-cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t})}),_.success("Produkts pievienots grozam!")}catch(s){console.error(s)}finally{a.value=!1}};return(t,s)=>{const c=p;return r(),h(c,{class:"bg-white block max-w-sm overflow-hidden relative rounded shadow-lg",to:`/product/${t.product.id}`},{default:m(()=>[e("img",{alt:t.product.title,class:"h-48 object-cover w-full",src:t.product.images[0]},null,8,g),t.product.category?(r(),i("div",y,o(t.product.category.name),1)):n("",!0),e("div",v,[e("div",w,o(t.product.title),1),e("p",x,o(t.product.description.substring(0,80))+"... ",1),e("div",k,[e("span",C,[f(" $"+o(t.product.priceWithDiscount.toFixed(2))+" ",1),parseFloat(t.product.priceWithDiscount.toFixed(2))!==parseFloat(t.product.price)?(r(),i("span",j,"$"+o(t.product.price),1)):n("",!0)]),e("button",{class:"bg-purple-500 duration-300 ease-in-out font-bold hover:-translate-y-1 hover:bg-purple-700 px-4 py-2 rounded text-white transform transition",disabled:a.value,onClick:s[0]||(s[0]=b(N=>d(t.product.id),["stop","prevent"]))}," Ielikt grozā ",8,$)])])]),_:1},8,["to"])}}});export{D as _};
